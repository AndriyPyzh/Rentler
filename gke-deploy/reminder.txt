### create cluster

gcloud container clusters create "rentler-cluster" \
  --region "us-central1" \
  --machine-type "e2-standard-2" --disk-type "pd-standard" --disk-size "50" \
  --num-nodes "1" --node-locations "us-central1-b","us-central1-c"

### get cluster credentials

gcloud container clusters get-credentials rentler --region us-central1

### install jenkins with helm
kubectl create namespace jenkins
kubectl apply -f gke-deploy/configs/devops/jenkins-deployment.yaml
kubectl apply -f gke-deploy/configs/devops/jenkins-service.yaml
kubectl get pods -n jenkins
kubectl logs jenkins-5b548b489c-cn7pl -n jenkins

kubectl create clusterrolebinding jenkins --clusterrole=cluster-admin --serviceaccount=jenkins:jenkins-sa
kubectl create clusterrolebinding jenkins-default --clusterrole=cluster-admin --serviceaccount=jenkins:default
kubectl create token jenkins-sa --duration=488h -n jenkins
